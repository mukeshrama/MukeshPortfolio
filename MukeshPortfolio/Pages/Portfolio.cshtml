@page
@model MukeshPortfolio.Pages.PortfolioModel
@{
    ViewData["Title"] = "Mukesh Portfolio";
}

<div class="container py-5">

    <!-- Hero Section -->
    <section class="row align-items-center mb-5">

        <div class="col-md-8">
            <h1 class="display-4 fw-bold mb-2">
                @Model.Profile.Name
            </h1>

            <h2 class="h4 text-muted mb-3">
                @Model.Profile.Role
            </h2>

            <p class="lead mb-4">
                @Model.Profile.Summary
            </p>

            <div class="mb-3">
                @if (!string.IsNullOrWhiteSpace(Model.Profile.Email))
                {
                    <a class="btn btn-primary me-2" href="mailto:@Model.Profile.Email">
                        Contact Me
                    </a>
                }

                @if (!string.IsNullOrWhiteSpace(Model.Profile.GithubUrl))
                {
                    <a class="btn btn-outline-dark me-2" href="@Model.Profile.GithubUrl" target="_blank">
                        GitHub
                    </a>
                }

                @if (!string.IsNullOrWhiteSpace(Model.Profile.LinkedInUrl))
                {
                    <a class="btn btn-outline-primary" href="@Model.Profile.LinkedInUrl" target="_blank">
                        LinkedIn
                    </a>
                }
            </div>

            @if (!string.IsNullOrWhiteSpace(Model.Profile.Location))
            {
                <p class="text-muted mb-0">
                    üìç @Model.Profile.Location
                </p>
            }
        </div>

        <!-- Profile Initial Avatar -->
        <div class="col-md-4 text-md-end text-center mt-4 mt-md-0">
            <div class="rounded-circle bg-light d-inline-flex align-items-center justify-content-center shadow"
                 style="width: 140px; height: 140px; font-size: 3rem;">
                @Model.Profile.Name.FirstOrDefault()
            </div>
        </div>

    </section>

    <hr class="mb-5" />

    <!-- Projects Section -->
    <section>
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h3 class="mb-0">Projects</h3>
            <span class="text-muted">
                @Model.Projects.Count() projects
            </span>
        </div>

        <div class="row g-4">

            @if (!Model.Projects.Any())
            {
                <div class="col-12">
                    <div class="alert alert-info">
                        No projects available yet.
                    </div>
                </div>
            }

            @foreach (var project in Model.Projects)
            {
                <div class="col-md-6 col-lg-4">
                    <div class="card h-100 shadow-sm border-0">

                        @if (!string.IsNullOrWhiteSpace(project.ImageUrl))
                        {
                            <img src="@project.ImageUrl"
                                 class="card-img-top"
                                 alt="@project.Title"
                                 style="object-fit: cover; height: 180px;" />
                        }

                        <div class="card-body d-flex flex-column">

                            <h5 class="card-title">
                                @project.Title
                            </h5>

                            <p class="card-text text-muted small mb-2">
                                @project.CreatedAt.ToString("MMM yyyy")
                            </p>

                            <p class="card-text flex-grow-1">
                                @project.Description
                            </p>

                            @if (project.Tags?.Any() == true)
                            {
                                <div class="mb-2">
                                    @foreach (var tag in project.Tags)
                                    {
                                        <span class="badge bg-light text-dark border me-1 mb-1">
                                            @tag
                                        </span>
                                    }
                                </div>
                            }

                            <div class="mt-2">

                                @if (!string.IsNullOrWhiteSpace(project.RepoUrl))
                                {
                                    <a href="@project.RepoUrl"
                                       class="btn btn-sm btn-outline-dark me-2"
                                       target="_blank">
                                        Source
                                    </a>
                                }

                                @if (!string.IsNullOrWhiteSpace(project.LiveUrl))
                                {
                                    <a href="@project.LiveUrl"
                                       class="btn btn-sm btn-primary"
                                       target="_blank">
                                        Live Demo
                                    </a>
                                }

                                <a asp-page="/ProjectDetails" asp-route-id="@project.Id"
                                   class="btn btn-sm btn-outline-secondary">
                                    Details
                                </a>

                            </div>

                        </div>
                    </div>
                </div>
            }

        </div>
    </section>

</div>
